/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-11-08 07:40:32 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class weather_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta charset=\"UTF-8\">\r\n");
      out.write("<title>jQuery全国城市天气预报API查询代码</title>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"media/css/iconfont.css\" />\r\n");
      out.write("<style>\r\n");
      out.write("\t*{margin:0;padding:0;}\r\n");
      out.write("\tul,li{list-style: none;}\r\n");
      out.write("\ta{text-decoration: none;}\r\n");
      out.write("\thtml,body{width:100%;height:100%;background:#CCE8E9;}\r\n");
      out.write("\tinput{border:none;outline:none;}\r\n");
      out.write("\t.clearfix:after { content: \"\";height: 0;line-height: 0;display: block; clear: both;}\r\n");
      out.write("\t.clearfix {zoom: 1;}\r\n");
      out.write("\t.wrap{width:600px;min-height:300px;position:fixed;left:50%;top:50%;margin-left:-300px;margin-top:-150px;}\r\n");
      out.write("\t.wrap .header{width:100%;height:40px;position:relative;line-height:40px;border:1px solid #fff;border-radius:4px;}\r\n");
      out.write("\t.wrap .header .intCity{width:80%;height:40px;line-height:40px;font-size:16px;text-indent: 10px;}\r\n");
      out.write("\t.wrap .header .seachBtn{width:19%;height:40px;line-height:40px;font-size:16px;color:#fff;text-align: center;background:#00BFFF;font-weight:600;cursor:pointer;}\r\n");
      out.write("\t.wrap .left{width:200px;min-height:300px;float:left;text-align: left;padding-top:20px;}\r\n");
      out.write("\t.wrap .left li{height:40px;line-height:40px;font-size:16px;color:#fff;}\r\n");
      out.write("\t.wrap .left li i{font-size:22px;color:yellow;}\r\n");
      out.write("\t.wrap .left li .span2{margin-left:20px;}\r\n");
      out.write("\t.wrap .left li .cityName{font-size:20px;}\r\n");
      out.write("\t\r\n");
      out.write("\t.wrap .right{width:400px;text-align: center;float:right;}\r\n");
      out.write("\t.wrap .right ul{margin-top:20px;color:#fff;font-size:16px;}\r\n");
      out.write("\t.wrap .right .data1{width:50%;float:left;}\r\n");
      out.write("\t.wrap .right .data2{width:50%;float:left;}\r\n");
      out.write("\t.wrap .right .data3{width:100%;}\r\n");
      out.write("\tinput{outline:none;border:none;height:30px;}\r\n");
      out.write("</style>\r\n");
      out.write("</head>\r\n");
      out.write("<body><script src=\"/demos/googlegg.js\"></script>\r\n");
      out.write("<div class=\"wrap clearfix\">\r\n");
      out.write("\t<div class=\"header\">\r\n");
      out.write("\t\t<input class=\"intCity\" type=\"text\" placeholder=\"Please enter the city\" value=\"成都\">\r\n");
      out.write("\t\t<input class=\"seachBtn\" type=\"button\" value=\"Seach\">\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div class=\"left\">\r\n");
      out.write("\t\t<ul>\r\n");
      out.write("\t\t\t<li><span><i class=\"icon iconfont icon-chengshi\"></i></span><span class=\"cityName span2\"></span></li>\r\n");
      out.write("\t\t\t<li><span><i class=\"icon iconfont icon-riqi\"></i></span><span class=\"left_data span2\"></span></li>\r\n");
      out.write("\t\t\t<li><span><i class=\"icon iconfont icon-weather2\"></i></span><span class=\"left_weather span2\"></span></li>\r\n");
      out.write("\t\t\t<li><span><i class=\"icon iconfont icon-wendu\"></i></span><span class=\"left_temp span2\"></span></li>\r\n");
      out.write("\t\t\t<li><span><i class=\"icon iconfont icon-fengxiang\"></i></span><span class=\"left_wind1 span2\"></span></li>\r\n");
      out.write("\t\t\t<li><span><i class=\"icon iconfont icon-qixiang-fengli\"></i></span><span class=\"left_wind2 span2\"></span></li>\r\n");
      out.write("\t\t</ul>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div class=\"right\">\r\n");
      out.write("\t\t<ul class=\"data1\"></ul>\r\n");
      out.write("\t\t<ul class=\"data2\"></ul>\r\n");
      out.write("\t\t<ul class=\"dataOne\"></ul>\r\n");
      out.write("\t</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<script src=\"media/js/jquery.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script src=\"http://webapi.amap.com/subway?v=1.0&key=a6414d65323db9e2718b31e525a1337d&callback=cbk\"></script>\r\n");
      out.write("<script>\r\n");
      out.write("\tfunction getWeather(location,type,el){\r\n");
      out.write("\t\tvar url = \"http://restapi.amap.com/v3/weather/weatherInfo\";\r\n");
      out.write("\t\tvar postData = {\r\n");
      out.write("\t\t\tkey: \"dfb9a576fbcb2c9a13a65ab736e47004\",\r\n");
      out.write("\t\t\tcity: location,\r\n");
      out.write("\t\t\textensions: \"all\"\r\n");
      out.write("\t\t};\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:url,\r\n");
      out.write("\t\t\ttype:type,\r\n");
      out.write("\t\t\tdata:postData,\r\n");
      out.write("\t\t\tsuccess:function(status,data){\r\n");
      out.write("\t\t\t\tconsole.log(status);\r\n");
      out.write("\t\t\t\tvar html1 = \"\";\r\n");
      out.write("\t\t\t\tvar html2 = \"\";\r\n");
      out.write("\t\t\t\tvar htmlOne = \"\";\r\n");
      out.write("\t\t\t\tif(status.forecasts.length == 1){\r\n");
      out.write("\t\t\t\t\t$(\".data1\").css(\"display\",\"none\");\r\n");
      out.write("\t\t\t\t\t$(\".data2\").css(\"display\",\"none\");\r\n");
      out.write("\t\t\t\t\t$(\".data3\").css(\"display\",\"block\");\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tvar weatherData = status.forecasts[0].casts;\r\n");
      out.write("\t\t\t\t\tconsole.log(status.forecasts[0].province+\"省\"+status.forecasts[0].city);\r\n");
      out.write("\t\t\t\t\t$(\".cityName\").html(status.forecasts[0].province+\"省\"+status.forecasts[0].city);\r\n");
      out.write("\t\t\t\t\t$(\".left_data\").html(status.forecasts[0].reporttime\t);\r\n");
      out.write("\t\t\t\t\t$(\".left_weather\").html(weatherData[0].dayweather+\" \\ \"+weatherData[0].nightweather);\r\n");
      out.write("\t\t\t\t\t$(\".left_temp\").html(weatherData[0].daytemp+\" \\ \"+weatherData[0].nighttemp);\r\n");
      out.write("\t\t\t\t\t$(\".left_wind1\").html(weatherData[0].daywind+\" \\ \"+weatherData[0].nightwind);\r\n");
      out.write("\t\t\t\t\t$(\".left_wind2\").html(weatherData[0].daypower+\" \\ \"+weatherData[0].nightpower);\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tfor(var i=1;i<weatherData.length;i++){\r\n");
      out.write("\t\t\t\t\t\thtmlOne += '<li>'+weatherData[i].date+'</li><li>星期'+weatherData[i].week+'</li><li>'+weatherData[i].dayweather+'\"\\\"'+weatherData[i].nightweather+'</li><li>'+weatherData[i].daytemp+'\"\\\"'+weatherData[i].nighttemp+'</li><li>'+weatherData[i].daywind+'\"\\\"'+weatherData[i].nightwind+'</li><li>'+weatherData[i].daypower+'\"\\\"'+weatherData[i].nightpower+'</li>'\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t$(\".dataOne\").html(htmlOne);\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t$(\".data1\").css(\"display\",\"block\");\r\n");
      out.write("\t\t\t\t\t$(\".data2\").css(\"display\",\"block\");\r\n");
      out.write("\t\t\t\t\t$(\".data3\").css(\"display\",\"none\");\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror:function(status){\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t})\r\n");
      out.write("\t}\r\n");
      out.write("\t$(\".seachBtn\").click(function(){\r\n");
      out.write("\t\tgetWeather($(\".intCity\").val(),\"post\",\".box1\");\r\n");
      out.write("\t})\r\n");
      out.write("\tfunction addHtmlTwo(){\r\n");
      out.write("\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\tfunction addHtmlOne(){\r\n");
      out.write("\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
      out.write("\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
